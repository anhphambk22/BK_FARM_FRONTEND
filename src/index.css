@tailwind base;
@tailwind components;
@tailwind utilities;

/* Global UI scaling: make text and icons larger across the app */
html {
	/* Fluid type: slightly smaller to fit 100% zoom: 14.75px â†’ 17.5px */
		font-size: clamp(14px, 1.0vw + 0.55rem, 17px);
	-webkit-text-size-adjust: 100%;
}
@media (max-width: 400px) {
	html { font-size: clamp(13.5px, 4vw, 15.5px); }
}
/* When viewport height is small, reduce base type a bit to avoid clipping */
@media (max-height: 700px) {
	html { font-size: clamp(13.75px, 0.9vw + 0.5rem, 16.5px); }
}

/* Auth background utilities */
.auth-bg {
	@apply relative min-h-screen flex items-center justify-center overflow-hidden;
}
.auth-bg::before {
	content: "";
	position: absolute;
	inset: 0;
	background-size: cover;
	background-position: center;
	background-repeat: no-repeat;
	filter: var(--auth-img-filter, none);
	transform: var(--auth-img-transform, none);
	background-image: var(--auth-img-url);
	transition: filter .4s ease, transform .6s ease;
	z-index: 0;
	pointer-events: none;
}
.auth-bg::after {
	content: "";
	position: absolute;
	inset: 0;
	background: radial-gradient(circle at 30% 30%, rgba(0,0,0,0.35), rgba(0,0,0,0.65)),
							linear-gradient(to bottom right, rgba(0,64,32,0.55), rgba(0,96,64,0.55));
	backdrop-filter: var(--auth-blur, blur(2px));
	opacity: var(--auth-overlay-opacity, 1);
	transition: opacity .4s ease, backdrop-filter .4s ease;
	z-index: 1;
	pointer-events: none; /* allow clicks to pass through */
}

/* Ensure direct children (like the form) sit above overlays */
.auth-bg > * { position: relative; z-index: 2; }

/* Modifier classes for quick tuning */
.auth-img-zoom-sm { --auth-img-transform: scale(1.05); }
.auth-img-zoom-md { --auth-img-transform: scale(1.15); }
.auth-img-zoom-lg { --auth-img-transform: scale(1.25); }

.auth-img-darken-sm { --auth-img-filter: brightness(.85) saturate(1.05); }
.auth-img-darken-md { --auth-img-filter: brightness(.72) saturate(1.08); }
.auth-img-darken-lg { --auth-img-filter: brightness(.6) saturate(1.1); }

.auth-overlay-light { --auth-overlay-opacity: .8; }
.auth-overlay-strong { --auth-overlay-opacity: 1; }

.auth-blur-none { --auth-blur: blur(0px); }
.auth-blur-sm { --auth-blur: blur(1.5px); }
.auth-blur-md { --auth-blur: blur(3px); }
.auth-blur-lg { --auth-blur: blur(6px); }

/* Form card refinement */
.auth-card {
	@apply relative bg-white/10 backdrop-blur-md p-8 rounded-2xl shadow-lg w-96 border border-white/20;
}

/* Sidebar compact behavior based on viewport height (shrink, don't hide) */
@media (max-height: 820px) {
	.sidebar-root .sidebar-hero { margin-bottom: 0.5rem; padding: 0.5rem; }
	.sidebar-root .sidebar-title { font-size: 1rem; }
	.sidebar-root .sidebar-sub { font-size: 0.75rem; }
	.sidebar-root .sidebar-caption { font-size: 0.65rem; }
}
@media (max-height: 740px) {
	.sidebar-root .sidebar-hero { margin-bottom: 0.375rem; padding: 0.4rem; }
	.sidebar-root .sidebar-hero > div:first-child { font-size: 0.65rem; }
	.sidebar-root .sidebar-title { font-size: 0.95rem; }
	.sidebar-root .sidebar-sub { font-size: 0.7rem; }
	.sidebar-root .sidebar-caption { font-size: 0.6rem; }
	.sidebar-root nav { padding-top: 0.25rem; }
}
